# 快速使用指南

## 🚀 最简单的使用方式

### 1️⃣ 测试策略有效性（推荐先运行）

直接运行测试脚本，查看策略在不同参数下的表现：

```bash
python test_strategy_simple.py
```

这会测试三种策略配置：
- **保守策略**：阈值3%，止损5%
- **平衡策略**：阈值2%，止损10%  ⭐推荐
- **激进策略**：阈值1.5%，止损15%

测试会输出：
- 总盈亏
- 胜率
- 平均盈利/亏损
- 最大盈利/亏损

---

### 2️⃣ 配置交易所API（如需实盘）

编辑 `.env` 文件，添加交易所API密钥：

```bash
# Binance API
BINANCE_API_KEY=your_api_key_here
BINANCE_API_SECRET=your_api_secret_here
```

⚠️ **安全提示**：
- 不要将API密钥提交到Git
- 建议只开启现货交易权限
- 建议使用只读API密钥进行测试

---

### 3️⃣ 启动实盘交易

#### 测试模式（不实际下单，仅模拟）

```bash
python start_real_trading.py --test
```

#### 实盘模式（实际下单）

```bash
python start_real_trading.py --symbol BTC/USDT --amount 1000
```

#### 自定义参数

```bash
python start_real_trading.py \
  --symbol ETH/USDT \
  --amount 500 \
  --up-threshold 0.03 \
  --down-threshold 0.03 \
  --stop-loss 0.08 \
  --exchange binance
```

---

## 📊 参数说明

| 参数 | 说明 | 默认值 | 推荐范围 |
|------|------|--------|----------|
| `--symbol` | 交易对 | BTC/USDT | BTC/USDT, ETH/USDT |
| `--amount` | 单边投资金额(USDT) | 1000 | 100-10000 |
| `--up-threshold` | 上涨触发阈值 | 0.02 (2%) | 0.015-0.03 |
| `--down-threshold` | 下跌触发阈值 | 0.02 (2%) | 0.015-0.03 |
| `--stop-loss` | 止损比例 | 0.10 (10%) | 0.05-0.15 |
| `--exchange` | 交易所 | binance | binance, okx |

---

## 🎯 策略原理（代号A策略）

### 核心逻辑
1. **初始开仓**：同时开一个多单和一个空单（对冲）
2. **上涨触发**：价格 ≥ 多单成本价 × (1 + 阈值) → 平多开多
3. **下跌触发**：价格 ≤ 空单成本价 × (1 - 阈值) → 平空开空
4. **止损保护**：
   - 多单：价格 ≤ 成本价 × (1 - 止损比例) → 平仓止损
   - 空单：价格 ≥ 成本价 × (1 + 止损比例) → 平仓止损

### 适用场景
✅ **适合**：
- 震荡市场（横盘震荡）
- 价格波动率适中的市场
- 能够承受一定回撤

❌ **不适合**：
- 单边大牛市/大熊市
- 极端波动市场
- 不能接受连续亏损的情况

---

## 📈 实际使用建议

### 新手建议
1. **先用测试模式运行**：`--test` 参数
2. **小金额开始**：建议从 100-200 USDT 开始
3. **保守参数**：阈值3%，止损5%
4. **监控运行**：保持窗口开启，观察交易情况

### 进阶用户
1. 根据回测结果选择参数
2. 考虑添加风控规则（如每日最大亏损）
3. 可以同时运行多个交易对
4. 建议做好交易记录和复盘

---

## ⚠️ 风险提示

1. **市场风险**：任何策略都不能保证盈利
2. **参数风险**：参数选择不当可能导致亏损
3. **流动性风险**：极端行情下可能无法及时平仓
4. **API风险**：交易所API可能出现延迟或故障

**建议**：
- 只投入你能承受损失的资金
- 定期检查账户余额
- 遇到极端行情及时停止策略
- 不要盲目追逐高收益

---

## 🐛 常见问题

### Q1: 为什么实盘下单功能未实现？
A: 实盘下单需要根据不同交易所的API实现，目前只完成了模拟测试。需要根据实际交易所API文档进行开发。

### Q2: 如何获取Binance API密钥？
A:
1. 登录 Binance 账户
2. 进入 API Management
3. 创建新的API密钥
4. 建议只勾选 "Enable Reading"（现货交易权限）

### Q3: 策略会自动止损吗？
A: 会。策略内置了止损逻辑，当价格达到止损比例时会自动平仓。

### Q4: 可以同时运行多个策略吗？
A: 理论上可以，每个策略使用不同的交易对和资金池即可。但需要谨慎管理资金。

---

## 📞 获取帮助

如果遇到问题：
1. 查看日志输出，通常会有详细错误信息
2. 检查 `.env` 配置是否正确
3. 确认交易所API密钥权限
4. 查看交易所余额是否充足

---

## 🔄 下一步

1. ✅ 运行 `test_strategy_simple.py` 了解策略表现
2. ✅ 配置交易所API（如需实盘）
3. ✅ 使用 `--test` 模式运行几天，观察表现
4. ✅ 逐步增加资金，从小额开始
5. ✅ 定期检查和调整参数

祝交易顺利！💰
